<script lang="ts" setup>
import { useTheme } from "@/hooks/useTheme"
import { ElNotification } from "element-plus"
// å°† Element Plus çš„è¯­è¨€è®¾ç½®ä¸ºä¸­æ–‡
import zhCn from "element-plus/es/locale/lang/zh-cn"

const { initTheme } = useTheme()

/** åˆå§‹åŒ–ä¸»é¢˜ */
initTheme()

// è·å–å½“å‰æ—¶é—´
const currentHour = new Date().getHours()

// æ ¹æ®æ—¶é—´ç¡®å®šé—®å€™è¯­å’Œå›¾æ ‡
let greeting, icon
if (currentHour >= 5 && currentHour < 12) {
  greeting = "æ—©ä¸Šå¥½"
  icon = "ğŸŒ…"
} else if (currentHour >= 12 && currentHour < 18) {
  greeting = "ä¸‹åˆå¥½"
  icon = "â˜€ï¸"
} else {
  greeting = "æ™šä¸Šå¥½"
  icon = "ğŸŒ™"
}

// è·å–å½“å‰æ˜ŸæœŸå‡ 
const days = ["æ—¥", "ä¸€", "äºŒ", "ä¸‰", "å››", "äº”", "å…­"]
const dayOfWeek = days[new Date().getDay()]

ElNotification({
  title: `${icon} ${greeting}ï¼`,
  type: "success",
  dangerouslyUseHTMLString: true,
  message: `
    <div style="font-size: 14px; line-height: 1.5;">
      <p>ä»Šå¤©æ˜¯æ˜ŸæœŸ${dayOfWeek}ï¼Œç¥æ‚¨å·¥ä½œé¡ºåˆ©ï¼Œå¿ƒæƒ…æ„‰æ‚¦ï¼</p>
    </div>
  `,
  duration: 6000,
  position: "top-right",
  showClose: true
})
</script>

<template>
  <el-config-provider :locale="zhCn">
    <router-view />
  </el-config-provider>
</template>
